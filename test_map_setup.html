<!DOCTYPE html>
<html>
<head>
    <title>Setup Map ID</title>
</head>
<body>
    <h1>Setup Map ID per Test</h1>
    <p>Questo script imposta il map_id corretto nel localStorage.</p>
    <button onclick="setupMapId()">Imposta Map ID 19</button>
    <button onclick="checkValues()">Controlla Valori</button>
    <button onclick="goToMap()">Vai alla Mappa</button>
    
    <div id="output"></div>
    
    <script>
        function setupMapId() {
            localStorage.setItem('current_map_id', '19');
            sessionStorage.setItem('current_map_id', '19');
            localStorage.setItem('current_campaign_id', '2');
            sessionStorage.setItem('current_campaign_id', '2');
            document.getElementById('output').innerHTML = 'Map ID impostato a 19 e Campaign ID a 2';
        }
        
        function checkValues() {
            const mapId = localStorage.getItem('current_map_id');
            const campaignId = localStorage.getItem('current_campaign_id');
            document.getElementById('output').innerHTML = `Map ID: ${mapId}, Campaign ID: ${campaignId}`;
        }
        
        function goToMap() {
            window.location.href = '/map?campaign_id=2';
        }
    </script>
</body>
</html>